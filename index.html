<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Razones por las que te amo ❤️</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fad0c4, #fbc2eb);
      background-size: 400% 400%;
      animation: gradientBG 12s ease infinite;
      text-align: center;
      margin: 0;
      padding: 20px;
    }

    h1 {
      font-size: 2.2rem;
      color: #fff;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.2);
      margin-bottom: 20px;
    }

    button, a {
      padding: 12px 20px;
      margin: 10px;
      font-size: 16px;
      border: none;
      border-radius: 25px;
      background: #ff6b81;
      color: white;
      cursor: pointer;
      text-decoration: none;
      font-weight: 600;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
      transition: all 0.3s ease-in-out;
    }

    button:hover, a:hover {
      background: #ff4757;
      transform: scale(1.05);
      box-shadow: 0px 6px 15px rgba(0,0,0,0.3);
    }

    #frase {
      margin-top: 30px;
      font-size: 20px;
      font-style: italic;
      max-width: 500px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.85);
      border-radius: 20px;
      box-shadow: 0px 6px 15px rgba(0,0,0,0.1);
      color: #333;
    }

    #mensaje {
      margin-top: 15px;
      color: #fff;
      font-size: 14px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body>
  <h1>❤️ Razones por las que te amo ❤️</h1>
  <button onclick="mostrarFrase()">Dime una razón</button>
  <a href="coleccion.html">Ver colección</a>
  <p id="frase"></p>
  <p id="mensaje"></p>

  <script>
    const frases = [
      "Amo tu sonrisa porque ilumina mi día.",
      "Amo cómo me haces sentir en paz cuando estoy contigo.",
      "Amo tu forma de mirarme, llena de cariño.",
      "Amo que siempre me apoyes en todo.",
      "Amo tu risa, porque es mi sonido favorito.",
      "Amo simplemente porque eres tú."
    ];

    function mostrarFrase() {
      const hoy = new Date().toISOString().split("T")[0]; // YYYY-MM-DD
      const ultimaFecha = localStorage.getItem("ultimaFecha");
      const ultimaFrase = localStorage.getItem("ultimaFrase");

      // Recuperar frases ya usadas
      let usadas = JSON.parse(localStorage.getItem("usadas")) || [];

      // Si ya recibió una frase en el mismo día
      if (ultimaFecha === hoy) {
        document.getElementById("frase").textContent = ultimaFrase;
        document.getElementById("mensaje").textContent = "Ya recibiste tu frase de hoy ❤️ Vuelve mañana 😉";
        return;
      }

      // Filtrar frases disponibles
      const disponibles = frases.filter(f => !usadas.includes(f));

      if (disponibles.length === 0) {
        document.getElementById("frase").textContent = "Ya viste todas mis razones 💕";
        document.getElementById("mensaje").textContent = "No quedan frases nuevas 😍";
        return;
      }

      // Elegir una frase nueva
      const randomIndex = Math.floor(Math.random() * disponibles.length);
      const frase = disponibles[randomIndex];

      // Mostrar frase
      document.getElementById("frase").textContent = frase;
      document.getElementById("mensaje").textContent = "Esta es tu frase de hoy 💌";

      // Guardar en colección con fecha
      let coleccionadas = JSON.parse(localStorage.getItem("coleccion")) || [];
      coleccionadas.push({ texto: frase, fecha: hoy });
      localStorage.setItem("coleccion", JSON.stringify(coleccionadas));

      // Guardar frase como usada
      usadas.push(frase);
      localStorage.setItem("usadas", JSON.stringify(usadas));

      // Guardar fecha y frase de hoy
      localStorage.setItem("ultimaFecha", hoy);
      localStorage.setItem("ultimaFrase", frase);
    }
  </script>
</body>
</html>


